"use strict";function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Router=function(){function Router(e){_classCallCheck(this,Router),this.page="",this.app=document.getElementById("app"),this.views="./views/",this.routes=e,this.init()}return _createClass(Router,[{key:"init",value:function(){var e=this;onload=function(t){e.changePage(),views.bindInputs()},onhashchange=function(t){e.changePage(),views.bindInputs()}}},{key:"changePage",value:function changePage(){var _this2=this;this.page=event.target.location.hash;var newPage=this.routes.find(function(e){return e.component==_this2.page.replace("#","")});if(newPage&&this.page==="#"+newPage.component)this.loadPage(newPage.component+".html").then(function(data){_this2.app.innerHTML=eval("`"+data+"`"),location.hash="#"+newPage.component});else{var defaultPage=this.routes.find(function(e){return e.active}).component;location.hash="#"+defaultPage}}},{key:"loadPage",value:function loadPage(theUrl){var _this3=this;return new Promise(function(resolve,reject){var xmlHttp=new XMLHttpRequest;xmlHttp.onreadystatechange=function(){4==xmlHttp.readyState&&200==xmlHttp.status&&resolve(eval("`"+xmlHttp.responseText+"`"))},xmlHttp.open("GET",_this3.views+theUrl,!0),xmlHttp.send(null)})}},{key:"loadView",value:function(e){this.loadPage(e+".html").then(function(t){document.getElementById(e).innerHTML=t})}}]),Router}(),HTTP=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(n.responseText)},n.open("GET",e,!0),n.send(null)}},{key:"post",value:function(e,t,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&200==a.status&&n(a.responseText)},a.open("POST",e,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(t)}}]),e}(),Views=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"generateViews",value:function(e){var t=this;e.forEach(function(e){t["".concat(e)]='<div id="'.concat(e,'"></div>')})}},{key:"load",value:function(e){return this["".concat(e)]}},{key:"bindInputs",value:function(){var e=this;setTimeout(function(){e.bindCheckBox(),e.bindElements("input"),e.bindElements("select"),e.bindElements("textarea")},1e3)}},{key:"bindElements",value:function(e){for(var t=document.getElementsByTagName(e),n=0;n<t.length;n++)t[n].oninput=function(e){app[e.target.name]=e.target.value;try{var t=document.querySelector("[bind=".concat(e.target.name,"]"));t&&(t.innerHTML=e.target.value)}catch(e){}}}},{key:"bindCheckBox",value:function(){for(var e=document.querySelectorAll("input[type=checkbox]"),t=0;t<e.length;t++)e[t].onchange=function(e){app[e.target.name]=e.srcElement.checked;try{var t=document.querySelector("[bind=".concat(e.target.name,"]"));t&&(t.innerHTML=e.srcElement.checked)}catch(e){}}}}]),e}();